{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","onChange","handleFilter","value","filter","PersonForm","onSubmit","handleSubmit","handleNameChange","newName","handlePhoneChange","phone","type","Persons","persons","person","name","includes","map","id","onClick","deletePerson","baseUrl","axios","get","then","response","data","noteObject","post","delete","put","Notification","className","style","text","App","useState","setPersons","setNewName","setPhone","setFilter","toggle","setToggle","notificationText","setNotificationText","notificationName","setNotificationName","notificationStyle","setNotificationStyle","useEffect","phonebookService","initialPersons","e","target","preventDefault","personToChange","some","p","oldPerson","find","newPerson","window","confirm","returnedPerson","setTimeout","catch","error","status","concat","newPersons","item","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ffaf6f0a.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter: <input onChange={props.handleFilter} value={props.filter} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        name: <input onChange={props.handleNameChange} value={props.newName} />\n      </div>\n      <div>\n        number: <input onChange={props.handlePhoneChange} value={props.phone} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = (props) => {\n  return (\n    <div>\n      {props.filter\n        ? props.persons\n            .filter((person) => person.name.includes(props.filter))\n            .map((person) => (\n              <p key={person.id}>\n                {person.name} {person.phone}\n              </p>\n            ))\n        : props.persons.map((person) => (\n            <p key={person.id}>\n              {person.name} {person.phone}{\" \"}\n              <button\n                onClick={() => props.deletePerson(person.id, person.name)}\n              >\n                Delete\n              </button>\n            </p>\n          ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons/\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (noteObject) => {\n  const request = axios.post(baseUrl, noteObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, noteObject) => {\n  const request = axios.put(`${baseUrl}${id}`, noteObject);\n  return request.then((response) => response.data);\n};\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default { getAll, create, remove, update };\n","import React from \"react\";\n\nconst Notification = (props) => {\n  return (\n    <div className={props.style}>\n      {props.text} {props.name}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport phonebookService from \"./services/phonebook\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [toggle, setToggle] = useState(false);\n  const [notificationText, setNotificationText] = useState(\"\");\n  const [notificationName, setNotificationName] = useState();\n  const [notificationStyle, setNotificationStyle] = useState(\"notification\");\n\n  useEffect(() => {\n    phonebookService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleRemove = (id, name) => {\n    window.confirm(`Delete ${name}?`) &&\n      phonebookService\n        .remove(id)\n        .then(() => {\n          const newPersons = persons.filter((item) => item.id !== id);\n          setPersons(newPersons);\n          setNotificationStyle(\"notification\");\n          setNotificationText(\"Succesfully deleted \");\n          setNotificationName(name);\n          setToggle(!toggle);\n          setTimeout(() => {\n            setToggle(false);\n          }, 5000);\n        })\n        .catch(() => {\n          setNotificationStyle(\"warning\");\n          setNotificationText(\"Number is already deleted from the phonebook: \");\n          setNotificationName(name);\n          setToggle(!toggle);\n          setTimeout(() => {\n            setToggle(false);\n          }, 5000);\n        });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const noteObject = {\n      name: newName,\n      phone: phone,\n    };\n\n    const personToChange = persons.some((p) => p.name === newName);\n    const oldPerson = persons.find((p) => p.name === newName);\n    const newPerson = { ...oldPerson, phone: phone };\n\n    if (personToChange) {\n      window.confirm(\n        `${newName} ia already added to phonebook, replace the old number with a new one?`\n      ) &&\n        phonebookService\n          .update(oldPerson.id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== oldPerson.id ? person : returnedPerson\n              )\n            );\n            setNotificationStyle(\"notification\");\n            setNotificationText(\"Updated \");\n            setNotificationName(oldPerson.name);\n            setToggle(!toggle);\n            setTimeout(() => {\n              setToggle(false);\n            }, 5000);\n          })\n          .catch((error) => {\n            if (error.response.status === 406) {\n              setNotificationStyle(\"warning\");\n              setNotificationText(`${error.response.data.error}`);\n              setNotificationName(\" \");\n              setToggle(!toggle);\n              setTimeout(() => {\n                setToggle(false);\n              }, 5000);\n            } else {\n              setNotificationStyle(\"warning\");\n              setNotificationText(\n                \"This number was already deleted from the phonebook: \"\n              );\n              setNotificationName(oldPerson.name);\n              setToggle(!toggle);\n              setTimeout(() => {\n                setToggle(false);\n              }, 5000);\n            }\n          });\n    } else {\n      phonebookService\n        .create(noteObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setNotificationStyle(\"notification\");\n          setNotificationText(\"Added \");\n          setNotificationName(returnedPerson.name);\n          setToggle(!toggle);\n          setTimeout(() => {\n            setToggle(false);\n          }, 5000);\n        })\n        .catch((error) => {\n          setNotificationStyle(\"warning\");\n          setNotificationText(`${error.response.data.error}`);\n          setNotificationName(\" \");\n          setToggle(!toggle);\n          setTimeout(() => {\n            setToggle(false);\n          }, 5000);\n        });\n    }\n\n    setNewName(\"\");\n    setPhone(\"\");\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handlePhoneChange = (e) => {\n    setPhone(e.target.value);\n  };\n  const handleFilter = (e) => {\n    setFilter(e.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {toggle && (\n        <Notification\n          text={notificationText}\n          name={notificationName}\n          style={notificationStyle}\n        />\n      )}\n      <Filter handleFilter={handleFilter} filter={filter} />\n      <h2>Add a new number</h2>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        handleNameChange={handleNameChange}\n        handlePhoneChange={handlePhoneChange}\n        newName={newName}\n        phone={phone}\n      />\n      <h2>Numbers</h2>\n      <Persons filter={filter} persons={persons} deletePerson={handleRemove} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}